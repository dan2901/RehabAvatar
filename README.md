# RehabAvatar
Simple project of a web page comprising a video game and couple graphs to track gait parameters.

Note: This is my first Git and I am also not good in programming. I apologize in advance and I am also open to any advice.
If it is needed, I can gladly provide further explanations.

Back to the project: 
The system contains an ESP32 microcontroller and a MPU9250 accelerometer, placed on the leg in the form of 2 bracelets.

In the video game, an avatar collects points in the scene with its leg. These points guide the user into doing rehabilitation exercises. 

The sensor rotates when the leg rises, thus tracking the leg movement with a roll angle. The angle and acceleration are displayed on 2 separate graphs.

ESP32 serves the webpage wirelessly and the live data is sent through websockets. The game is hosted on itch.io, since the ESP32 doesnt have enough storage for the game files. I used a proxy server on my lapop, which securelly routes data from ESP32 to the video game, because the microcontroller cannot crypt data by itself. A diagram for visualisation is presented:

<img width="720" height="552" alt="Screenshot 2025-07-29 at 19 44 28" src="https://github.com/user-attachments/assets/a25ee446-282c-455e-af59-05945113a1f8" />

The following 2 images show me testing the product. (P.S. files uploaded to Git are in english).

<img width="1430" height="603" alt="Screenshot 2025-07-29 at 19 35 42" src="https://github.com/user-attachments/assets/bf4bed57-43c3-4b5f-af91-eb77b12000a8" />

<img width="1436" height="606" alt="Screenshot 2025-07-29 at 19 36 17" src="https://github.com/user-attachments/assets/da92dc92-956e-4b33-8dcb-c045145c8110" />

An ilustration of components placement:

<img width="355" height="509" alt="Screenshot 2025-07-29 at 19 38 58" src="https://github.com/user-attachments/assets/3a71b5e3-73fd-4d93-aaf6-544508c2833b" />

If u want to try the project: "Assets", "Packages" and "ProjectSettings" are the Unity files needed for the game (I've never shared a Unity game before so I hope you have access to everything in need with these files).
1. Before building the game, please set "API Compatibility Level" to ".NET Framework" in the Player Settings.
   <img width="486" height="32" alt="Screenshot 2025-07-28 at 07 45 52" src="https://github.com/user-attachments/assets/45ba60fe-931e-46cc-9594-6e7d0059ebec" />
2. After building the game, "index.html" file is generated by Unity. It contains the Javascript needed to generate the game on the web. Please edit it as presented in Git.
3. Connect the sensor to ESP32 as shown in the picture (I2C communication)
<img width="738" height="415" alt="Screenshot 2025-07-29 at 19 57 59" src="https://github.com/user-attachments/assets/b682c334-01b1-42af-ba20-8bcd105f6209" />

4. All components need to be connected on the same Wi-Fi network.
5. For the proxy server, before running the code, you need to create fake certificates (i.e. "cert.pem", "key.pem"). For that, run this line of code in the terminal ` openssl req -x509 -newkey rsa:4096 -keyout key.pem -out cert.pem -days 365 -nodes`, then run ` npm install ws` to create your "package-lock.json" and "package-lock.json".

Thanks for taking the time to check out my project. Contact me in case of quesiton. I will do my best to help.



